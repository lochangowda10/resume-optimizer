<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Resume Optimizer Pro - ATS Score & Smart Suggestions</title>
    <style>
        :root {
            --color-primary: #2563eb;
            --color-primary-hover: #1d4ed8;
            --color-success: #10b981;
            --color-warning: #f59e0b;
            --color-danger: #ef4444;
            --color-bg: #f8fafc;
            --color-surface: #ffffff;
            --color-text: #1e293b;
            --color-text-secondary: #64748b;
            --color-border: #e2e8f0;
            --color-purple: #8b5cf6;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--color-text);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.95;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            background: rgba(255, 255, 255, 0.1);
            padding: 10px;
            border-radius: 12px;
        }

        .tab-btn {
            flex: 1;
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .tab-btn.active {
            background: white;
            color: var(--color-primary);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .card {
            background: var(--color-surface);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .card h2 {
            margin-bottom: 16px;
            color: var(--color-text);
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .icon {
            font-size: 1.5rem;
        }

        textarea {
            width: 100%;
            min-height: 350px;
            padding: 12px;
            border: 2px solid var(--color-border);
            border-radius: 8px;
            font-size: 0.95rem;
            font-family: monospace;
            resize: vertical;
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: var(--color-primary);
        }

        .btn {
            background: var(--color-primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            background: var(--color-primary-hover);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: var(--color-text-secondary);
        }

        .btn-success {
            background: var(--color-success);
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 12px;
            flex-wrap: wrap;
        }

        .score-display {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 12px;
            color: white;
            margin-bottom: 20px;
        }

        .score-number {
            font-size: 4rem;
            font-weight: bold;
            margin: 10px 0;
        }

        .score-label {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .score-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
            margin-top: 20px;
        }

        .score-item {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .score-item-value {
            font-size: 2rem;
            font-weight: bold;
        }

        .score-item-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-top: 5px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-bottom: 20px;
        }

        .stat-box {
            background: var(--color-surface);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--color-primary);
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--color-text-secondary);
        }

        .analysis-section {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
        }

        .analysis-item {
            padding: 16px;
            border-radius: 8px;
            border-left: 4px solid;
        }

        .analysis-item.good {
            background: rgba(16, 185, 129, 0.1);
            border-color: var(--color-success);
        }

        .analysis-item.warning {
            background: rgba(245, 158, 11, 0.1);
            border-color: var(--color-warning);
        }

        .analysis-item.error {
            background: rgba(239, 68, 68, 0.1);
            border-color: var(--color-danger);
        }

        .analysis-item h3 {
            font-size: 1.1rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .analysis-item p {
            color: var(--color-text-secondary);
            font-size: 0.95rem;
        }

        .keywords {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 16px;
        }

        .keyword-tag {
            padding: 6px 12px;
            background: var(--color-primary);
            color: white;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .keyword-tag.missing {
            background: var(--color-danger);
        }

        .keyword-tag.matched {
            background: var(--color-success);
        }

        .tips-section {
            background: var(--color-surface);
            padding: 24px;
            border-radius: 12px;
            margin-top: 20px;
        }

        .tips-section h2 {
            margin-bottom: 16px;
            color: var(--color-text);
        }

        .tip-item {
            padding: 12px;
            margin-bottom: 10px;
            background: var(--color-bg);
            border-radius: 8px;
            font-size: 0.95rem;
        }

        .tip-item strong {
            color: var(--color-primary);
        }

        .match-meter {
            margin: 20px 0;
        }

        .meter-bar {
            width: 100%;
            height: 30px;
            background: #e5e7eb;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }

        .meter-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-danger), var(--color-warning), var(--color-success));
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            color: white;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .comparison-card {
            background: var(--color-bg);
            padding: 16px;
            border-radius: 8px;
        }

        .comparison-card h3 {
            margin-bottom: 12px;
            color: var(--color-text);
            font-size: 1rem;
        }

        .skill-list {
            list-style: none;
        }

        .skill-list li {
            padding: 8px;
            margin-bottom: 6px;
            background: white;
            border-radius: 6px;
            font-size: 0.9rem;
        }

        .skill-list li.matched {
            border-left: 3px solid var(--color-success);
        }

        .skill-list li.missing {
            border-left: 3px solid var(--color-danger);
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .comparison-grid {
                grid-template-columns: 1fr;
            }
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid white;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .industry-selector {
            margin-bottom: 16px;
        }

        .industry-selector select {
            width: 100%;
            padding: 10px;
            border: 2px solid var(--color-border);
            border-radius: 8px;
            font-size: 1rem;
        }

        .export-section {
            margin-top: 20px;
            padding: 20px;
            background: var(--color-surface);
            border-radius: 12px;
            text-align: center;
        }

        .export-section h3 {
            margin-bottom: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ AI Resume Optimizer Pro</h1>
            <p>Get instant ATS compatibility score, job matching, and AI-powered suggestions</p>
        </div>

        <div class="tabs">
            <button class="tab-btn active" onclick="switchTab('basic')">üìÑ Basic Analysis</button>
            <button class="tab-btn" onclick="switchTab('matcher')">üéØ Job Matcher</button>
            <button class="tab-btn" onclick="switchTab('industry')">üè¢ Industry Optimizer</button>
        </div>

        <!-- Basic Analysis Tab -->
        <div id="basic" class="tab-content active">
            <div class="main-content">
                <div class="card">
                    <h2><span class="icon">üìù</span> Your Resume</h2>
                    <textarea id="resumeText" placeholder="Paste your resume text here..."></textarea>
                    <div class="btn-group">
                        <button class="btn" onclick="analyzeResume()">üîç Analyze Resume</button>
                        <button class="btn btn-secondary" onclick="loadExample()">üìã Load Example</button>
                        <button class="btn btn-success" onclick="clearAll()">üóëÔ∏è Clear</button>
                    </div>
                </div>

                <div class="card">
                    <h2><span class="icon">üìä</span> ATS Score</h2>
                    <div id="scoreDisplay" class="score-display">
                        <div class="score-label">Your ATS Score</div>
                        <div class="score-number" id="atsScore">--</div>
                        <div class="score-label" id="scoreMessage">Upload resume to get score</div>
                        
                        <div class="score-breakdown">
                            <div class="score-item">
                                <div class="score-item-value" id="contentScore">--</div>
                                <div class="score-item-label">Content</div>
                            </div>
                            <div class="score-item">
                                <div class="score-item-value" id="keywordScore">--</div>
                                <div class="score-item-label">Keywords</div>
                            </div>
                            <div class="score-item">
                                <div class="score-item-value" id="structureScore">--</div>
                                <div class="score-item-label">Structure</div>
                            </div>
                            <div class="score-item">
                                <div class="score-item-value" id="formatScore">--</div>
                                <div class="score-item-label">Format</div>
                            </div>
                        </div>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-box">
                            <div class="stat-value" id="wordCount">--</div>
                            <div class="stat-label">Words</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value" id="keywordCount">--</div>
                            <div class="stat-label">Keywords</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value" id="sectionCount">--</div>
                            <div class="stat-label">Sections</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value" id="bulletCount">--</div>
                            <div class="stat-label">Bullet Points</div>
                        </div>
                    </div>

                    <div class="analysis-section" id="analysisSection"></div>

                    <div class="keywords" id="keywordsSection"></div>
                </div>
            </div>
        </div>

        <!-- Job Matcher Tab -->
        <div id="matcher" class="tab-content">
            <div class="main-content">
                <div class="card">
                    <h2><span class="icon">üìù</span> Your Resume</h2>
                    <textarea id="resumeTextMatcher" placeholder="Paste your resume text here..."></textarea>
                </div>

                <div class="card">
                    <h2><span class="icon">üíº</span> Job Description</h2>
                    <textarea id="jobDescription" placeholder="Paste the job description you're applying for..."></textarea>
                </div>
            </div>

            <div class="card">
                <button class="btn" onclick="matchResume()">üéØ Match Resume to Job</button>
                
                <div class="match-meter">
                    <h3>Job Match Score</h3>
                    <div class="meter-bar">
                        <div class="meter-fill" id="matchFill" style="width: 0%">0%</div>
                    </div>
                </div>

                <div class="comparison-grid">
                    <div class="comparison-card">
                        <h3>‚úÖ Skills You Have (Matched)</h3>
                        <ul class="skill-list" id="matchedSkills"></ul>
                    </div>
                    <div class="comparison-card">
                        <h3>‚ùå Skills Missing from Resume</h3>
                        <ul class="skill-list" id="missingSkills"></ul>
                    </div>
                </div>

                <div class="analysis-section" id="matchAnalysis"></div>
            </div>
        </div>

        <!-- Industry Optimizer Tab -->
        <div id="industry" class="tab-content">
            <div class="card">
                <h2><span class="icon">üè¢</span> Industry-Specific Optimization</h2>
                
                <div class="industry-selector">
                    <label for="industrySelect"><strong>Select Your Target Industry:</strong></label>
                    <select id="industrySelect" onchange="updateIndustryKeywords()">
                        <option value="tech">Technology & Software</option>
                        <option value="finance">Finance & Banking</option>
                        <option value="healthcare">Healthcare & Medical</option>
                        <option value="marketing">Marketing & Sales</option>
                        <option value="engineering">Engineering</option>
                        <option value="education">Education</option>
                        <option value="creative">Creative & Design</option>
                    </select>
                </div>

                <textarea id="resumeTextIndustry" placeholder="Paste your resume text here..."></textarea>
                
                <div class="btn-group">
                    <button class="btn" onclick="analyzeIndustry()">üîç Analyze for Industry</button>
                </div>

                <div class="analysis-section" id="industryAnalysis"></div>
                
                <div class="keywords" id="industryKeywords"></div>
            </div>
        </div>

        <!-- Export Section -->
        <div class="export-section">
            <h3>üì• Export Your Analysis</h3>
            <div class="btn-group" style="justify-content: center;">
                <button class="btn" onclick="exportPDF()">üìÑ Download as PDF</button>
                <button class="btn btn-secondary" onclick="exportText()">üìù Download as Text</button>
            </div>
        </div>

        <div class="tips-section">
            <h2>üí° Pro Tips for ATS-Friendly Resumes</h2>
            <div class="tip-item">
                <strong>Use Standard Section Headers:</strong> Use common headers like "Experience", "Education", "Skills" rather than creative alternatives.
            </div>
            <div class="tip-item">
                <strong>Match Job Description Keywords:</strong> Use this tool's Job Matcher to identify and add missing keywords from the job posting.
            </div>
            <div class="tip-item">
                <strong>Use Simple Formatting:</strong> Avoid tables, images, headers/footers, and complex formatting that ATS can't read.
            </div>
            <div class="tip-item">
                <strong>Quantify Achievements:</strong> Use numbers and metrics (e.g., "Increased sales by 30%", "Managed team of 5").
            </div>
            <div class="tip-item">
                <strong>Include Action Verbs:</strong> Start bullet points with strong verbs like "Led", "Developed", "Implemented", "Achieved".
            </div>
            <div class="tip-item">
                <strong>Optimize for Your Industry:</strong> Use the Industry Optimizer tab to get tailored suggestions for your field.
            </div>
        </div>
    </div>

    <script>
        // Enhanced keyword database with industry-specific terms
        const industryKeywords = {
            tech: {
                skills: ['JavaScript', 'Python', 'Java', 'React', 'Node.js', 'SQL', 'AWS', 'Docker', 'Kubernetes', 'Git', 'API', 'Agile', 'Scrum', 'TypeScript', 'MongoDB', 'PostgreSQL', 'CI/CD', 'DevOps', 'Machine Learning', 'AI'],
                verbs: ['Developed', 'Implemented', 'Architected', 'Deployed', 'Optimized', 'Automated', 'Debugged', 'Refactored', 'Integrated', 'Scaled']
            },
            finance: {
                skills: ['Financial Analysis', 'Excel', 'Risk Management', 'Portfolio Management', 'Bloomberg Terminal', 'Financial Modeling', 'Compliance', 'Accounting', 'GAAP', 'SAP', 'QuickBooks', 'Budgeting', 'Forecasting', 'Trading', 'Investment'],
                verbs: ['Analyzed', 'Forecasted', 'Managed', 'Audited', 'Reconciled', 'Evaluated', 'Advised', 'Mitigated', 'Optimized', 'Reported']
            },
            healthcare: {
                skills: ['Patient Care', 'EMR/EHR', 'HIPAA', 'Medical Terminology', 'Clinical Research', 'Healthcare Management', 'CPR', 'Epic Systems', 'Medicare', 'Medicaid', 'Nursing', 'Diagnostics', 'Treatment Planning'],
                verbs: ['Treated', 'Diagnosed', 'Administered', 'Coordinated', 'Evaluated', 'Monitored', 'Documented', 'Educated', 'Collaborated', 'Improved']
            },
            marketing: {
                skills: ['Digital Marketing', 'SEO', 'SEM', 'Google Analytics', 'Content Marketing', 'Social Media', 'Email Marketing', 'Marketing Automation', 'CRM', 'Salesforce', 'HubSpot', 'Campaign Management', 'Brand Strategy', 'PPC', 'A/B Testing'],
                verbs: ['Launched', 'Executed', 'Generated', 'Increased', 'Optimized', 'Managed', 'Developed', 'Analyzed', 'Created', 'Strategized']
            },
            engineering: {
                skills: ['CAD', 'AutoCAD', 'SolidWorks', 'MATLAB', 'Project Management', 'Quality Control', 'Six Sigma', 'Lean Manufacturing', 'PLC', 'Process Improvement', 'R&D', 'Testing', 'Design', 'Prototyping'],
                verbs: ['Designed', 'Engineered', 'Tested', 'Improved', 'Developed', 'Analyzed', 'Optimized', 'Validated', 'Manufactured', 'Implemented']
            },
            education: {
                skills: ['Curriculum Development', 'Classroom Management', 'Lesson Planning', 'Educational Technology', 'Assessment', 'Student Engagement', 'Google Classroom', 'Canvas LMS', 'Differentiated Instruction', 'Parent Communication'],
                verbs: ['Taught', 'Developed', 'Facilitated', 'Mentored', 'Assessed', 'Implemented', 'Collaborated', 'Designed', 'Evaluated', 'Guided']
            },
            creative: {
                skills: ['Adobe Creative Suite', 'Photoshop', 'Illustrator', 'InDesign', 'Figma', 'Sketch', 'UI/UX Design', 'Typography', 'Branding', 'Video Editing', 'After Effects', 'Premiere Pro', 'Graphic Design', 'Web Design'],
                verbs: ['Designed', 'Created', 'Illustrated', 'Conceptualized', 'Produced', 'Directed', 'Edited', 'Developed', 'Crafted', 'Visualized']
            }
        };

        const requiredSections = ['experience', 'education', 'skills', 'contact', 'summary', 'work', 'projects'];

        let currentAnalysis = null;

        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        function loadExample() {
            const exampleResume = `JOHN DOE
Software Engineer | Full Stack Developer
Email: john.doe@email.com | Phone: (555) 123-4567 | LinkedIn: linkedin.com/in/johndoe

PROFESSIONAL SUMMARY
Results-driven Software Engineer with 3+ years of experience in full-stack development. Proven track record of building scalable web applications and leading cross-functional teams.

EXPERIENCE

Senior Software Developer | Tech Solutions Inc. | Jan 2022 - Present
‚Ä¢ Developed and maintained 5+ enterprise web applications using React, Node.js, and MongoDB
‚Ä¢ Improved application performance by 40% through code optimization and caching strategies
‚Ä¢ Led a team of 4 developers in agile sprints, delivering projects 20% ahead of schedule
‚Ä¢ Implemented automated testing reducing bugs in production by 60%
‚Ä¢ Collaborated with product managers and designers to define technical requirements

Software Developer | Digital Innovations LLC | Jun 2020 - Dec 2021
‚Ä¢ Built RESTful APIs serving 100K+ daily active users using Node.js and Express
‚Ä¢ Designed and implemented database schemas for PostgreSQL and MongoDB
‚Ä¢ Reduced API response time by 50% through query optimization
‚Ä¢ Mentored 2 junior developers in best practices and code reviews

EDUCATION

Bachelor of Science in Computer Science | State University | 2020
GPA: 3.8/4.0 | Dean's List (2018-2020)

SKILLS

Programming: JavaScript, Python, Java, TypeScript, HTML, CSS
Frameworks: React, Node.js, Express, Django, Vue.js
Databases: MongoDB, PostgreSQL, MySQL, Redis
Tools: Git, Docker, AWS, Jenkins, Jira
Methodologies: Agile, Scrum, CI/CD, Test-Driven Development`;

            document.getElementById('resumeText').value = exampleResume;
            document.getElementById('resumeTextMatcher').value = exampleResume;
            document.getElementById('resumeTextIndustry').value = exampleResume;
        }

        function clearAll() {
            document.getElementById('resumeText').value = '';
            document.getElementById('resumeTextMatcher').value = '';
            document.getElementById('resumeTextIndustry').value = '';
            document.getElementById('jobDescription').value = '';
            
            document.getElementById('atsScore').textContent = '--';
            document.getElementById('scoreMessage').textContent = 'Upload resume to get score';
            document.getElementById('contentScore').textContent = '--';
            document.getElementById('keywordScore').textContent = '--';
            document.getElementById('structureScore').textContent = '--';
            document.getElementById('formatScore').textContent = '--';
            document.getElementById('wordCount').textContent = '--';
            document.getElementById('keywordCount').textContent = '--';
            document.getElementById('sectionCount').textContent = '--';
            document.getElementById('bulletCount').textContent = '--';
            document.getElementById('analysisSection').innerHTML = '';
            document.getElementById('keywordsSection').innerHTML = '';
        }

        function analyzeResume() {
            const resumeText = document.getElementById('resumeText').value;
            
            if (!resumeText.trim()) {
                alert('Please paste your resume text first!');
                return;
            }

            const analysis = performAnalysis(resumeText);
            currentAnalysis = analysis;
            displayResults(analysis);
        }

        function performAnalysis(text) {
            const lowerText = text.toLowerCase();
            const words = text.split(/\s+/).filter(w => w.length > 0);
            const lines = text.split('\n');
            
            // Find all industry keywords across all industries
            const allKeywords = new Set();
            Object.values(industryKeywords).forEach(industry => {
                industry.skills.forEach(skill => allKeywords.add(skill));
            });
            
            const foundKeywords = [];
            const keywordSet = Array.from(allKeywords);
            
            keywordSet.forEach(keyword => {
                if (lowerText.includes(keyword.toLowerCase())) {
                    foundKeywords.push(keyword);
                }
            });
            
            // Section detection
            let sectionsFound = 0;
            requiredSections.forEach(section => {
                if (lowerText.includes(section)) {
                    sectionsFound++;
                }
            });
            
            // Bullet points
            const bulletPoints = lines.filter(line => line.trim().match(/^[‚Ä¢\-\*‚óè]/)).length;
            
            // Numbers and metrics
            const hasNumbers = /\d+%|\d+\+|\$\d+|increased|decreased|reduced|improved/i.test(text);
            
            // Email detection
            const hasEmail = /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/.test(text);
            
            // Phone detection
            const hasPhone = /\(?\d{3}\)?[-.\s]?\d{3}[-.\s]?\d{4}/.test(text);
            
            // Action verbs
            const actionVerbs = ['developed', 'implemented', 'led', 'managed', 'created', 'designed', 'improved', 'increased', 'reduced', 'achieved'];
            let verbCount = 0;
            actionVerbs.forEach(verb => {
                if (lowerText.includes(verb)) verbCount++;
            });

            // Calculate detailed scores
            const contentScore = Math.min(100, Math.round((words.length / 500) * 100));
            const keywordScore = Math.min(100, Math.round((foundKeywords.length / 15) * 100));
            const structureScore = Math.min(100, Math.round((sectionsFound / 5) * 100));
            const formatScore = Math.round(((hasEmail ? 25 : 0) + (hasPhone ? 25 : 0) + (bulletPoints > 5 ? 25 : 0) + (hasNumbers ? 25 : 0)));
            
            const overallScore = Math.round((contentScore + keywordScore + structureScore + formatScore) / 4);
            
            return {
                score: overallScore,
                contentScore,
                keywordScore,
                structureScore,
                formatScore,
                wordCount: words.length,
                keywordCount: foundKeywords.length,
                sectionCount: sectionsFound,
                bulletCount: bulletPoints,
                foundKeywords,
                missingKeywords: keywordSet.filter(k => !foundKeywords.includes(k)).slice(0, 10),
                hasEmail,
                hasPhone,
                hasNumbers,
                verbCount,
                sectionsFound
            };
        }

        function displayResults(analysis) {
            document.getElementById('atsScore').textContent = analysis.score;
            document.getElementById('contentScore').textContent = analysis.contentScore;
            document.getElementById('keywordScore').textContent = analysis.keywordScore;
            document.getElementById('structureScore').textContent = analysis.structureScore;
            document.getElementById('formatScore').textContent = analysis.formatScore;
            
            let scoreMessage = '';
            if (analysis.score >= 80) {
                scoreMessage = 'üéâ Excellent! Your resume is highly ATS-compatible!';
            } else if (analysis.score >= 60) {
                scoreMessage = 'üëç Good! Some improvements recommended.';
            } else {
                scoreMessage = '‚ö†Ô∏è Needs improvement for better ATS compatibility.';
            }
            document.getElementById('scoreMessage').textContent = scoreMessage;
            
            document.getElementById('wordCount').textContent = analysis.wordCount;
            document.getElementById('keywordCount').textContent = analysis.keywordCount;
            document.getElementById('sectionCount').textContent = analysis.sectionCount;
            document.getElementById('bulletCount').textContent = analysis.bulletCount;
            
            const analysisSection = document.getElementById('analysisSection');
            analysisSection.innerHTML = '';
            
            // Contact info feedback
            if (analysis.hasEmail && analysis.hasPhone) {
                analysisSection.innerHTML += createAnalysisItem('good', '‚úì', 'Contact Information Complete', 
                    'Great! You included both email and phone number.');
            } else {
                analysisSection.innerHTML += createAnalysisItem('error', '‚úó', 'Missing Contact Information', 
                    `Add ${!analysis.hasEmail ? 'email' : ''}${!analysis.hasEmail && !analysis.hasPhone ? ' and ' : ''}${!analysis.hasPhone ? 'phone number' : ''}.`);
            }
            
            // Section feedback
            if (analysis.sectionCount >= 4) {
                analysisSection.innerHTML += createAnalysisItem('good', '‚úì', 'Well-Structured Resume', 
                    `Found ${analysis.sectionCount} key sections. Good organization!`);
            } else {
                analysisSection.innerHTML += createAnalysisItem('warning', '‚ö†', 'Add More Sections', 
                    `Only ${analysis.sectionCount} sections found. Include: Experience, Education, Skills, Summary.`);
            }
            
            // Keyword feedback
            if (analysis.keywordCount >= 10) {
                analysisSection.innerHTML += createAnalysisItem('good', '‚úì', 'Strong Keyword Presence', 
                    `${analysis.keywordCount} industry keywords found. Great for ATS matching!`);
            } else {
                analysisSection.innerHTML += createAnalysisItem('warning', '‚ö†', 'Low Keyword Count', 
                    `Only ${analysis.keywordCount} keywords found. Add more relevant skills and technologies.`);
            }
            
            // Numbers feedback
            if (analysis.hasNumbers) {
                analysisSection.innerHTML += createAnalysisItem('good', '‚úì', 'Quantifiable Achievements', 
                    'Great! You included metrics and numbers to demonstrate impact.');
            } else {
                analysisSection.innerHTML += createAnalysisItem('warning', '‚ö†', 'Add Quantifiable Results', 
                    'Include numbers like "Increased sales by 30%" or "Managed team of 5".');
            }

            // Bullet points feedback
            if (analysis.bulletCount >= 5) {
                analysisSection.innerHTML += createAnalysisItem('good', '‚úì', 'Good Use of Bullet Points', 
                    `${analysis.bulletCount} bullet points found. Helps readability!`);
            } else {
                analysisSection.innerHTML += createAnalysisItem('warning', '‚ö†', 'Use More Bullet Points', 
                    'Format your achievements as bullet points for better ATS parsing.');
            }
            
            // Display keywords
            const keywordsSection = document.getElementById('keywordsSection');
            keywordsSection.innerHTML = '<h3 style="width: 100%; margin-bottom: 12px;">Found Keywords</h3>';
            
            analysis.foundKeywords.slice(0, 15).forEach(keyword => {
                keywordsSection.innerHTML += `<span class="keyword-tag">${keyword}</span>`;
            });
            
            if (analysis.missingKeywords.length > 0) {
                keywordsSection.innerHTML += '<h3 style="width: 100%; margin: 16px 0 8px 0; color: #ef4444;">Consider Adding These Keywords</h3>';
                analysis.missingKeywords.forEach(keyword => {
                    keywordsSection.innerHTML += `<span class="keyword-tag missing">${keyword}</span>`;
                });
            }
        }

        function matchResume() {
            const resumeText = document.getElementById('resumeTextMatcher').value;
            const jobDesc = document.getElementById('jobDescription').value;
            
            if (!resumeText.trim() || !jobDesc.trim()) {
                alert('Please paste both your resume and job description!');
                return;
            }

            const resumeLower = resumeText.toLowerCase();
            const jobLower = jobDesc.toLowerCase();
            
            // Extract keywords from job description
            const allKeywords = new Set();
            Object.values(industryKeywords).forEach(industry => {
                industry.skills.forEach(skill => allKeywords.add(skill));
            });
            
            const jobKeywords = [];
            Array.from(allKeywords).forEach(keyword => {
                if (jobLower.includes(keyword.toLowerCase())) {
                    jobKeywords.push(keyword);
                }
            });
            
            const matchedSkills = [];
            const missingSkills = [];
            
            jobKeywords.forEach(keyword => {
                if (resumeLower.includes(keyword.toLowerCase())) {
                    matchedSkills.push(keyword);
                } else {
                    missingSkills.push(keyword);
                }
            });
            
            const matchPercentage = jobKeywords.length > 0 
                ? Math.round((matchedSkills.length / jobKeywords.length) * 100) 
                : 0;
            
            // Update UI
            document.getElementById('matchFill').style.width = matchPercentage + '%';
            document.getElementById('matchFill').textContent = matchPercentage + '%';
            
            const matchedList = document.getElementById('matchedSkills');
            matchedList.innerHTML = '';
            matchedSkills.forEach(skill => {
                matchedList.innerHTML += `<li class="matched">‚úì ${skill}</li>`;
            });
            
            const missingList = document.getElementById('missingSkills');
            missingList.innerHTML = '';
            missingSkills.forEach(skill => {
                missingList.innerHTML += `<li class="missing">‚úó ${skill}</li>`;
            });
            
            const matchAnalysis = document.getElementById('matchAnalysis');
            matchAnalysis.innerHTML = '';
            
            if (matchPercentage >= 70) {
                matchAnalysis.innerHTML += createAnalysisItem('good', '‚úì', 'Strong Match!', 
                    `Your resume matches ${matchPercentage}% of job requirements. You're a great fit!`);
            } else if (matchPercentage >= 50) {
                matchAnalysis.innerHTML += createAnalysisItem('warning', '‚ö†', 'Moderate Match', 
                    `${matchPercentage}% match. Consider adding the missing skills listed above.`);
            } else {
                matchAnalysis.innerHTML += createAnalysisItem('error', '‚úó', 'Low Match', 
                    `Only ${matchPercentage}% match. Add more relevant skills from the job description.`);
            }
            
            if (missingSkills.length > 0) {
                matchAnalysis.innerHTML += createAnalysisItem('warning', 'üí°', 'Improvement Suggestions', 
                    `Add these ${missingSkills.length} missing skills to improve your match: ${missingSkills.slice(0, 5).join(', ')}${missingSkills.length > 5 ? '...' : ''}`);
            }
        }

        function analyzeIndustry() {
            const resumeText = document.getElementById('resumeTextIndustry').value;
            const industry = document.getElementById('industrySelect').value;
            
            if (!resumeText.trim()) {
                alert('Please paste your resume text first!');
                return;
            }

            const resumeLower = resumeText.toLowerCase();
            const industryData = industryKeywords[industry];
            
            const foundSkills = [];
            const missingSkills = [];
            const foundVerbs = [];
            
            industryData.skills.forEach(skill => {
                if (resumeLower.includes(skill.toLowerCase())) {
                    foundSkills.push(skill);
                } else {
                    missingSkills.push(skill);
                }
            });
            
            industryData.verbs.forEach(verb => {
                if (resumeLower.includes(verb.toLowerCase())) {
                    foundVerbs.push(verb);
                }
            });
            
            const industryScore = Math.round((foundSkills.length / industryData.skills.length) * 100);
            
            const analysisDiv = document.getElementById('industryAnalysis');
            analysisDiv.innerHTML = '';
            
            analysisDiv.innerHTML += createAnalysisItem(
                industryScore >= 70 ? 'good' : industryScore >= 50 ? 'warning' : 'error',
                industryScore >= 70 ? '‚úì' : '‚ö†',
                `Industry Optimization: ${industryScore}%`,
                `Your resume contains ${foundSkills.length} out of ${industryData.skills.length} key ${industry} skills.`
            );
            
            analysisDiv.innerHTML += createAnalysisItem(
                foundVerbs.length >= 5 ? 'good' : 'warning',
                foundVerbs.length >= 5 ? '‚úì' : '‚ö†',
                'Action Verbs',
                `Found ${foundVerbs.length} industry-relevant action verbs. ${foundVerbs.length < 5 ? 'Use more action verbs to strengthen your resume.' : 'Great job using strong verbs!'}`
            );
            
            const keywordsDiv = document.getElementById('industryKeywords');
            keywordsDiv.innerHTML = '<h3 style="width: 100%; margin-bottom: 12px;">Skills Found in Your Resume</h3>';
            foundSkills.forEach(skill => {
                keywordsDiv.innerHTML += `<span class="keyword-tag matched">${skill}</span>`;
            });
            
            if (missingSkills.length > 0) {
                keywordsDiv.innerHTML += '<h3 style="width: 100%; margin: 16px 0 8px 0; color: #ef4444;">Suggested Skills to Add</h3>';
                missingSkills.slice(0, 10).forEach(skill => {
                    keywordsDiv.innerHTML += `<span class="keyword-tag missing">${skill}</span>`;
                });
            }
        }

        function updateIndustryKeywords() {
            // Clear previous analysis when industry changes
            document.getElementById('industryAnalysis').innerHTML = '';
            document.getElementById('industryKeywords').innerHTML = '';
        }

        function createAnalysisItem(type, icon, title, description) {
            return `
                <div class="analysis-item ${type}">
                    <h3>${icon} ${title}</h3>
                    <p>${description}</p>
                </div>
            `;
        }

        function exportPDF() {
            if (!currentAnalysis) {
                alert('Please analyze your resume first!');
                return;
            }
            alert('PDF export feature: In a production environment, this would generate a PDF report with your analysis results, recommendations, and optimized resume suggestions.');
        }

        function exportText() {
            if (!currentAnalysis) {
                alert('Please analyze your resume first!');
                return;
            }
            
            let report = `RESUME ANALYSIS REPORT\n`;
            report += `${'='.repeat(50)}\n\n`;
            report += `Overall ATS Score: ${currentAnalysis.score}/100\n\n`;
            report += `DETAILED SCORES:\n`;
            report += `- Content Score: ${currentAnalysis.contentScore}/100\n`;
            report += `- Keyword Score: ${currentAnalysis.keywordScore}/100\n`;
            report += `- Structure Score: ${currentAnalysis.structureScore}/100\n`;
            report += `- Format Score: ${currentAnalysis.formatScore}/100\n\n`;
            report += `STATISTICS:\n`;
            report += `- Word Count: ${currentAnalysis.wordCount}\n`;
            report += `- Keywords Found: ${currentAnalysis.keywordCount}\n`;
            report += `- Sections: ${currentAnalysis.sectionCount}\n`;
            report += `- Bullet Points: ${currentAnalysis.bulletCount}\n\n`;
            report += `FOUND KEYWORDS:\n`;
            report += currentAnalysis.foundKeywords.join(', ') + '\n\n';
            report += `SUGGESTED KEYWORDS TO ADD:\n`;
            report += currentAnalysis.missingKeywords.join(', ') + '\n';
            
            const blob = new Blob([report], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'resume-analysis-report.txt';
            a.click();
            window.URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>

